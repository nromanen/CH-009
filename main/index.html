<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Materials & Units Manager</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="stylesheet" href="css/bootstrap.css">
	</head>

	<div class="container-navbar"></div>
	<div  class="container"></div>
	
<!-- NavBar template -->

		<script type="text/template" id="navbar">
			<div class="navbar navbar-static-top" style="margin-bottom:20px;">
				<nav class="navbar-inner">
					<div style="width: 570px; margin: 0 auto;">
						<a class="brand"> Warehouse - <%= user %></a>
						
						<div class="btn-group">
						  <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
						    Action
						    <span class="caret"></span>
						  </a>
						  <ul class="dropdown-menu">
						  	<li><a id="fetchData"><span class="label label-success">Fetch Data</span></a></li>
							<li><a id="sendData" href="#sendData"><span class="label label-success">Send Data</span></a></li>
							<li><a id="clearDB"><span class="label label-important">Delete Database</span></a></li>
							<li><a id="saveCollectionsToDb"><span class="label label-info">Save to Database</span></a></li>
						  </ul>
						</div>	

						<div class="btn-group pull-right">
							<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
								User Roles
								<span class="caret"></span>
							</a>
							

							<ul class="dropdown-menu">
								<li> <a href="#customer"> Customer </a> </li>
								<li> <a href="#accountant"> Accountant </a> </li>
								<li> <a href="#engineer"> Engineer </a> </li>
								<li> <a href="#storekeeper"> Storekeeper </a> </li>
							</ul>
						</div>

						

					</div>
				</nav>
			</div>		
		</script>

		<script type="text/template" id="chooseRole">
			<div class="row" style="margin-top:15%;">
				<div class="span5"></div>
				<div class="span2">
					<h3>Your role:</h3>
					<ul class="dropdown-menu" style="display: block; position: static; margin-bottom: 5px;">
						<li> <a href="#customer"> Customer </a> </li>
						<li> <a href="#accountant"> Accountant </a> </li>
						<li> <a href="#engineer"> Engineer </a> </li>
						<li> <a href="#storekeeper"> Storekeeper </a> </li>
					</ul>
				</div>
				<div class="span5"></div>
			</div>
		</script>

<!-- User form template -->

	<script type="text/template" id="loginForm">
			<div class="row" style="margin-top:15%;">

				<div class="span12"><h3 class="text-center">Welcome!</h3>
				<div class="row">
					<div >
					<div class="span5 offset3 ">
					
						<form class="form-horizontal">
  						<div class="control-group">
    					<label class="control-label" for="inputLogin">Login</label>
    					<div class="controls">
      					<input type="text" id="inputLogin" placeholder="Login">
    					</div>
  						</div>
  						<div class="control-group">
    					<label class="control-label" for="inputPassword">Password</label>
    					<div class="controls">
      					<input type="password" id="inputPassword" placeholder="Password">
    					</div>
  						</div>
  						<div class="control-group">
    					<div class="controls">
      					<button id="loginButton" type="button" class="btn">Sign in</button>
    					</div>
	  					</div>
						</form>
					</div>
				<div>
			</div>
		</script>








		
<!-- User Tab templates -->
		
		<script type="text/template" id="storekeeperTab">
			<ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#materials" data-toggle="tab">Materials</a></li>
            </ul>
		</script>

		<script type="text/template" id="engineerTab">
			<ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#products" data-toggle="tab">Products</a></li>
              <li><a href="#units" data-toggle="tab">Units</a></li>
            </ul>
		</script>

		<script type="text/template" id="accountantTab">
			<ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#products" data-toggle="tab">Products</a></li>
              <li><a href="#units" data-toggle="tab">Units</a></li>
              <li><a href="#materials" data-toggle="tab">Materials</a></li>
            </ul>
		</script>

		<script type="text/template" id="customerTab">
			<ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#products" data-toggle="tab">Products</a></li>
            </ul>
		</script>
		
<!-- Tab templates -->

		<script type="text/template" id="tab">
			<div class="tab-pane fade<%= active %>" id="<%= id %>">
			</div>
		</script>

<!-- Button templates -->

		<script type="text/template" id="addNewUnitButton">
			<a href="#addNewUnit" role="button" class="btn btn-info" data-toggle="modal"><i class="icon-white icon-plus"></i> New Unit</a>
		</script>

		<script type="text/template" id="addNewMaterialButton">
			<a href="#addNewMaterial" role="button" class="btn btn-info" data-toggle="modal"><i class="icon-white icon-plus"></i> New Material</a>
		</script>

		<script type="text/template" id="addGoodsButton">
			<a href="#addNewMaterial" role="button" class="btn btn-info" data-toggle="modal"><i class="icon-white icon-plus"></i> New goods</a>
		</script>
	
		<script type="text/template" id="addUnit2GoodsButton">
		<a href="#addUnit2Goods" role="button" class="btn btn-info btn-small" data-toggle="modal"><i class="icon-white icon-plus"></i> Units</a>
		</script>
		
<!-- Modal templates -->

		<script type="text/template" id="addNewUnitModal">
			<div id="addNewUnit" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-header">
				    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				    <h3 id="myModalLabel">Add New Unit</h3>
				  </div>
				  <div class="modal-body">
				    	
					Unit name: <input class="textbox" id="unit" type="text">

				  </div>
				  <div class="modal-footer">
				    <button class="btn close-addNewUnit" data-dismiss="modal" aria-hidden="true">Close</button>
				    <button class="btn btn-primary save-material">Save changes</button>
				  </div>
				</div>
		</script>

		<script type="text/template" id="addNewMaterialModal">
			<div id="addNewMaterial" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-header">
				    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				    <h3 id="myModalLabel">Add New Material</h3>
				    
				  </div>
				  <div class="modal-body">
				    	
					Material: <input class="textbox" id="material" type="text">
					<div class="clear"></div>
					Price: <input class="textbox" id="price" type="text">

				  </div>
				  <div class="modal-footer">
				    <button class="btn close-addNewMaterial" data-dismiss="modal" aria-hidden="true">Close</button>
				    <button class="btn btn-primary save-material">Save changes</button>
				  </div>
				</div>
		</script>

		<script type="text/template" id="addMaterial2UnitModal">
			<div id="addMaterial2Unit" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-header">
				    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				    <h3 id="myModalLabel">Add New Material</h3>
				    <br>
				    <p>Click PLUS to add 1 Material, and Double Click for specific quantity.</p>
				  	<p class="unit_text"></p>
				  </div>
				  <div id="materialsContainer" class="modal-body">

				  </div>
				  <div class="modal-footer">
				    <button class="btn btn-primary"  data-dismiss="modal" aria-hidden="true">Close Box</button>
				  </div>
				</div>
		</script>

		<script type="text/template" id="addUnit2GoodsTemplate">
			<div id="addUnit2Goods" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-header">
			    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			    <h3 id="myModalLabel">Add New Material</h3>
			  </div>
			  <div id="unitContainer" class="modal-body">

			  </div>
			  <div class="modal-footer">
			    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
			    <button class="btn btn-primary save-material">Save changes</button>
			  </div>
			</div>
		</script>


		<script type="text/template"  id="temlateGoods">
		 <div class="tab-pane fade in active" id="goodsView">
		 <a href="#addGoodsView" role="button" class="btn btn-info" data-toggle="modal"><i class="icon-white icon-plus"></i> New Goods</a>

			<div id="addGoodsView" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-header">
				    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				    <h3 id="myModalLabel">Modal goods header</h3>
				  </div>
				  <div class="modal-body">

				   		<h1>Warehouse</h1><br>
			
					
							<div id="addGoods">

							<div class="fl ">New goods:</div>
							<div class="fle"><input class="textbox span3" id="goods" type="text"></div>
							</div>
							<div style="height:15px;"></div>
						<br>
				  </div>
				  <div class="modal-footer">
				    <button class="btn" data-dismiss="modal" aria-hidden="true">Close goods Add</button>
				    <button class="btn btn-primary">Save changes</button>
				  </div>
				</div>
	
			
			<div  id="goods_holder" class="accordion" style="margin-top:20px;">

			</div>
		</div>
        </script>

<!-- send data template --> 
        <script type="text/template" id="sendDataTmp">
			<h1>Send data to json</h1>
		</script>

<!-- Materials View templates -->
		
		<script type="text/template" id="tableheader-materials-accountant">
		  	<thead>
			  	<th> Material </th>
				<th> Price </th>
			</thead>
		</script>

		<script type="text/template" id="tableheader-materials-storekeeper">
		  	<thead>
			  	<th> Material </th>
				<th> Price </th>
				<th> Edit </th>
				<th> Delete </th>
			</thead>
		</script>
		
		<script type="text/template" id="materials-storekeeper">
		  	<td> <%= material %> </td>
			<td> <%= price %> </td>
			<td> <div class="edit"></div> </td>
			<td> <div class="delete"></div> </td>
		</script>

		<script type="text/template" id="materials-accountant">
		  	<td> <%= material %> </td>
			<td> <%= price %> </td>
		</script>

<!-- Goods View templates -->

		<script type="text/template" id="goods-name">
			<div class="goods_holder">
						<div class="accordion-heading">
					      <a class="accordion-toggle" data-toggle="collapse" data-parent="#goods_holder" href="#<%= hrefId %>">
					        <span id="<%= hrefId %>_goodsId" class="goods_name_id"><%= nameG %></span>

					        <input class="edit_goods_name" type="text">
					        <div class="delete_goods"></div><div class="edit_right"></div>
					      </a>
					    </div>

				
			</div>
			<div class="clear"></div>	
		
		</script>
		

<!-- Unit View templates -->	

		<script type="text/template" id="unit-name">
				<div class="accordion-heading">
			      <a class="accordion-toggle" data-toggle="collapse" data-parent=".accordion-group" href="#<%= hrefID %>">
			        <%= name %><div class="delete_unit"></div>
			      </a>
			    </div>
				<div class="clear"></div>	
				<div style="height:15px;"></div>	
		</script>

		<script type="text/template" id="materials-table">
			<div class="accordion-inner">
			   <table class="table">
					<thead>
						<tr>
							<th> Units </th>
							<th> Quantity </th>
							<th> Edit </th>
							<th> Delete </th>
							<th> Price total </th>
						</tr>
					</thead>
					<tbody id="<%= name %>_tableRow" class="holder">						

			            <tr>	
			        		<td colspan="4">
								<a href="#addMaterial2Unit" role="button" class="btn btn-info btn-small add-material-to-unit" data-toggle="modal"><i class="icon-white icon-plus"></i> Materials</a>
							</td>
							<td>
								Unit price: <b><%= unitPrice %></b>
							</td>
			        	</tr>			
					</tbody>			    	
			    </table> 
			</div>			 
		</script>

		<script type="text/template" id="materials-row-in-unit">
        	<td> <%= material %> </td>
        	<td> <%= count %> </td>
        	<td> <div class="editCount"></div> </td>
        	<td> <div class="delete" title="Delete <%= material %> material"></div></td>
        	<td> <%=unitItemPrice%> </td>
        </script>

<!-- other templates -->

<!-- old templates -->

		<script type="text/template" id="navigation">

        	<li class="active"><a href="#products" data-toggle="tab" id="showMaterial"><i class="icon-tint"></i>Show Materials</a></li>
        	 <li><a href="#units" data-toggle="tab" id="showUnit" ><i class="icon-th-list"></i>Show Unit</a></li>
        	<li>
        		<a href="#goodsView" data-toggle="tab" id="showGoods" >
        		<i class="icon-shopping-cart"></i>Show Goods</a>
        	</li>
        	<li><a href="#2C" id="fetchMaterials"  data-toggle="tab">
        	<i class="icon-shopping-cart"></i>fetchMaterials</a>
        	</li>
  
    	</script>  
               
        <script type="text/template"  id="temlateUnits">
			
				
					<h1>Warehouse</h1><br>
			
					<div id="addUnit">
							<div class="fl">New unit:</div>
							<div class="fle"><input class="textbox" id="unit" type="text"></div>
					</div>
					<div style="height:15px;"></div>
					<br>
			
					<div id="units_holder"></div>

			 		     	 
        
        </script> 
   
        <script type="text/template"  id="temlateMaterials" >
		
				<h1>Warehouse</h1><br>
			
            	<div id="addMaterial">
						<div class="fl">Material:</div>
						<div class="fle"><input class="textbox" id="material" type="text"></div>
						<div class="clear"></div>
						<div class="fl">Price:</div> 
						<div class="fle"><input class="textbox" id="price" type="text"></div> 
            	</div>
			
            	<div id="table_holder"></div>
         
        </script> 
		
		
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

		
		




		<script type="text/template" id="units-table">

		
					    <div class="accordion-inner">		
					   	   <table class="table">
            					<thead>
									
									<th> Units </th>
									<th> Quantity </th>
									<th> Edit </th>
									<th> Delete </th>
									<th> Price total </th>
								</thead>
								<tbody id="<%= nameGoods %>_tableRow">
								


				                	<tr>	
				                		<td class="buttonPlace" colspan="4">
				                				
				                		</td>
										<td>
											Total price: <b id='<%= nameGoods %>_goodsPrice'><%=goodsPrice%></b>
										</td>
				                	</tr>
								</tbody>
			                	
			                </table>

					      </div>
					  		



		</script>


		
		<script type="text/template" id="goods-count">


					 
					     
				                	<td><div class="units_in_Goods"><%= units %></div></td>
				                	<td> <div class="count"><%= count %></div> </td>
				                	<td> <div class="editCount"></div> </td>
				                	<td> <div class="delete" title="Delete <%= units %> material"></div></td>
				                	<td> <%=goodsItemPrice%> </td>
				        
		</script>		

		
		<script type="text/template" id="goods-count-plus">
			  <div class="holder">	
				<div class="material"><i class="icon-plus"></i> <%= name %></div>
			  </div>
			  <div class="clear"></div>
		</script>	

		<script type="text/template" id="unit-name">
			<div class="unit_holder">
				<div class="unit_name"><%= name %></div>
				<input class="edit_unit_name" value="<%= name %>">
				<div class="deleteUnit" title="Delete <%= name %> unit"></div>
				<div class="edit_unitItem" title="Edit <%= name %> unit"></div>
				<div class="clear"></div>
				<div class="unit_info"></div>

			</div>
			<div class="clear"></div>	
			<div style="height:15px;"></div>
		</script>
		
		<script type="text/template" id="material-price-plus">			
			<i class="icon-plus" title="Add <%= material %>"></i> <%= material %> ($<%= price %>)
		</script>

		<script src="js/lib/jquery.js"></script>
		<script src="js/lib/boostrap/bootstrap.min.js"></script>
		<script src="js/lib/jquery-ui.js"></script>

		<script src="js/lib/underscore.js"></script>
		<script src="js/lib/backbone.js"></script>
		
		<script src="js/defaults.js"></script>
		<script src="js/dbConnector.js"></script>

		<script src="js/models/models.js"></script>
		<script src="js/collections/collections.js"></script>
		
		<script src="js/views/Materials.js"></script>
		<script src="js/views/Units.js"></script>
		<script src="js/views/UnitItems.js"></script>
		<script src="js/views/AddUnit.js"></script>
		<script src="js/views/AddMaterialsList.js"></script>
		<script src="js/views/Goods.js"></script>
		<script src="js/views/AddGoods.js"></script>
		<script src="js/views/GoodsItem.js"></script>
		<script src="js/views/AddUnitsList.js"></script>
		<script src="js/views/Users.js"></script>

		<script src="js/router/router.js"></script>
		
		<script src="js/app.js"></script>

	</body>
</html>
